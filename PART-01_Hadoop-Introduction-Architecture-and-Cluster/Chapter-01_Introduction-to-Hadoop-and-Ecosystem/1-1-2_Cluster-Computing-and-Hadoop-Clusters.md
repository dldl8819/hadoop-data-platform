# 1.1.2 클러스터 컴퓨팅과 하둡 클러스터들
- 다수의 컴퓨터 노드로 빅데이터를 관리하는 효율적인 시스템
## 1.1.2.1 클러스터 컴퓨팅
- 일반적인 하드웨어는 평균 각 6~64개 노드를 갖고 있는 다수의 랙들로 나눠진다.
    - 각 랙에서 작동하는 노드들은 대개 기가이더넷(GbE)으로 연결돼 있다.
    - 다수의 랙은 네트워크 스위치로 연결된다.
- 단일 노드나 랙에 있는 전체 서버들이 한 번에 고장나더라도 문제가 없도록 보장한다.
    - 데이터 블록들을 여러 벌 만들어 각각 다른 랙에 있는 서버에 저장
        - 데이터 블록은 여러 청크로 나뉘어 클러스터 전반에 복사된다.
    - 큰 작업을 작은 단위의 작업들로 나눈다.
        - 작은 단위의 작업들이 실패했을 때 다른 노드에서 다시 실행 할 수 있다.
- 분산 파일 시스템(DFS, distributed file system)
    - 수백 MB~TB급 파일을 저장·처리하기 위해 사용된다.
- 파일 시스템에 한 번 기록되면 거의 변경되지 않는 데이터
    - 한 번 쓰고 여러 번 읽는 작업을 주로 다룬다.
## 1.1.2.2 하둡 클러스터들
- 하둡이 실행되는 머신들과 그 머신이 데이터를 저장하고 프로세싱하도록 하는 운영 시스템인 데몬, 소프트웨어 프로세스들로 구성된다.
- scale-out 구조로 서버를 추가/감소해 스토리지와 처리 능력을 쉽게 확장·축소할 수 있다.
- 구성 요소
    - 하둡 프레임워크를 운영하는 데몬이 실행될 마스터 노드들(서버들)
    - 스토리지(HDFS)와 프로세싱(YARN)을 담당하는 일련의 워커 노드들
    - 하나 이상의 엣지 서버들
        - 하둡 프로세스가 실행되지는 않지만 하둡 시스템에 접근하는 서버들
        - 하둡 클러스터에 접근하는 애플리케이션을 실행
    - 1개 또는 그 이상의 RDBMS(MySQL, PostgreSQL, ...)
        - Hive, Sqoop, Oozie, Hue 같은 프레임워크의 메타데이터 저장
    - Kafka, Storm 같은 특정 프레임워크를 위한 전용 서버들
- 기술적으로 HDFS, YARN으로 구성되나, 하둡 클러스터를 사용할 때 하이브, 피그, 우지, 스파크, 플룸과 같은 많은 프레임워크나 소프트웨어를 사용하는 게 일반적이다.
- 주요 특징
    - 분산 파일 시스템        
        - 데이터 저장을 위해 디자인된 근본 기술
        - 방대한 데이터 청크들을 신속하게 처리하기 위해 매우 큰 데이터 블록을 사용한다.    
    - 맵리듀스 프로그램 모델
        - 데이터 처리 기술
    - 데이터 중복성(built-in data redundancy)
        - 파일 시스템이 저렴한 프로세싱 노드들을 사용하여 언제든 장애 가능성이 있다.
        - 분산 파일 시스템과 맵리듀스 프로그램 모델의 조합으로 방대한 클러스터를 사용해 큰 스케일의 컴퓨팅을 하는 과정에서 발생하는 하드웨어 오류는 데이터 중복으로 해결한다.
    - 데이터를 네트워크로 이동하지 않는다.
        - 프로세싱을 하는 노드로 데이터를 이동하는 대신 데이터가 저장된 노드에서 프로세싱한다.
        - HDFS 데이터가 저장된 노드로 작업 스케줄을 조정하여 네트워크 부담을 줄이고 I/O를 주로 로컬 디스크 또는 같은 랙으로 제한할 수 있다.
